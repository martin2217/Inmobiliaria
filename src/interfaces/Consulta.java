/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package interfaces;

import Controlador.ConexionUtil;
import Modelo.Barrio;
import Modelo.Localidad;
import Modelo.Provincia;
import java.awt.event.ItemEvent;
import java.awt.event.ItemListener;
import java.awt.event.KeyAdapter;
import java.awt.event.KeyEvent;
import java.util.ArrayList;
import java.util.List;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableColumn;
import javax.swing.text.AbstractDocument;
import org.hibernate.Criteria;
import org.hibernate.Session;

/**
 *
 * @author germa
 */
public class Consulta extends javax.swing.JPanel {
    
    
    boolean banderaMin=false;
    boolean banderaMax=false;
    List<Provincia> provincias;
    
    /**
     * Creates new form Alta
     */
    public Consulta() {
        initComponents();
        esconderColumnaId();
        getProvincias();
        inicializarCombos();
        
    }
    
    private void esconderColumnaId(){
        TableColumn columna = jTable1.getColumnModel().getColumn(0);
        columna.setMaxWidth(0);
        columna.setMinWidth(0);
        columna.setPreferredWidth(0);
    }
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jButtonModificar = new javax.swing.JButton();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();
        jButtonEliminar = new javax.swing.JButton();
        jButtonAtras = new javax.swing.JButton();
        jPanel2 = new javax.swing.JPanel();
        labelId = new javax.swing.JLabel();
        textFieldDormitorios = new javax.swing.JTextField();
        comboBoxProvincia = new javax.swing.JComboBox();
        comboBoxCiudad = new javax.swing.JComboBox();
        comboBoxBarrio = new javax.swing.JComboBox();
        label3 = new javax.swing.JLabel();
        label2 = new javax.swing.JLabel();
        label1 = new javax.swing.JLabel();
        jButtonBuscar = new javax.swing.JButton();
        comboBoxTipo = new javax.swing.JComboBox();
        label4 = new javax.swing.JLabel();
        labelId1 = new javax.swing.JLabel();
        textFieldIdPrecioMin = new javax.swing.JTextField();
        textFieldIdPrecioMax = new javax.swing.JTextField();
        labelId2 = new javax.swing.JLabel();
        labelId3 = new javax.swing.JLabel();
        comboBoxEstado = new javax.swing.JComboBox();
        label5 = new javax.swing.JLabel();

        setMaximumSize(new java.awt.Dimension(800, 600));
        setMinimumSize(new java.awt.Dimension(800, 600));
        setPreferredSize(new java.awt.Dimension(800, 600));

        jButtonModificar.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        jButtonModificar.setText("Modificar");
        jButtonModificar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonModificarActionPerformed(evt);
            }
        });

        jTable1.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jTable1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Id", "Checkbox", "Propietario", "Localidad", "Dirección", "Superficie", "Precio"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.Object.class, java.lang.Boolean.class, java.lang.Object.class, java.lang.Object.class, java.lang.Object.class, java.lang.Object.class, java.lang.Object.class
            };
            boolean[] canEdit = new boolean [] {
                false, true, false, false, false, false, false
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        TableColumn columna = jTable1.getColumnModel().getColumn(0);
        columna.setMaxWidth(0);
        columna.setMinWidth(0);
        columna.setPreferredWidth(0);
        jTable1.setFocusable(false);
        jTable1.getTableHeader().setResizingAllowed(false);
        jTable1.getTableHeader().setReorderingAllowed(false);
        jScrollPane1.setViewportView(jTable1);

        jButtonEliminar.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        jButtonEliminar.setText("Eliminar");

        jButtonAtras.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        jButtonAtras.setText("Atras");
        jButtonAtras.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonAtrasActionPerformed(evt);
            }
        });

        jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Filtros", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Agency FB", 0, 18))); // NOI18N
        jPanel2.setMaximumSize(new java.awt.Dimension(218, 456));

        labelId.setFont(new java.awt.Font("Tahoma", 0, 13)); // NOI18N
        labelId.setText("Cantidad de dormitorios");

        textFieldDormitorios.setFont(new java.awt.Font("Tahoma", 0, 13)); // NOI18N
        textFieldDormitorios.setToolTipText("Ingrese solo números");
        ((AbstractDocument)textFieldDormitorios.getDocument()).setDocumentFilter(new LimitadorTextField(2));

        /*String[] listaNombresDeportes = gestor.GestorCD.getListaDeportes();
        String[] listaND= new String[listaNombresDeportes.length+1];
        listaND[0]="";
        for(int j=0; j<listaNombresDeportes.length; j++){
            listaND[j+1]=listaNombresDeportes[j];
        }
        Arrays.sort(listaND);*/
        comboBoxProvincia.setFont(new java.awt.Font("Agency FB", 1, 18)); // NOI18N
        comboBoxProvincia.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "", "1", "En 2", "3" }));

        comboBoxCiudad.setFont(new java.awt.Font("Agency FB", 1, 18)); // NOI18N
        comboBoxCiudad.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "", "Creada", "Planificada", "En disputa", "Finalizada" }));

        comboBoxBarrio.setFont(new java.awt.Font("Agency FB", 1, 18)); // NOI18N
        comboBoxBarrio.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "", "1", "3" }));

        label3.setFont(new java.awt.Font("Tahoma", 0, 13)); // NOI18N
        label3.setText("Barrio");

        label2.setFont(new java.awt.Font("Tahoma", 0, 13)); // NOI18N
        label2.setText("Ciudad");

        label1.setFont(new java.awt.Font("Tahoma", 0, 13)); // NOI18N
        label1.setText("Provincia");

        jButtonBuscar.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        jButtonBuscar.setText("Buscar");
        jButtonBuscar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonBuscarActionPerformed(evt);
            }
        });

        comboBoxTipo.setFont(new java.awt.Font("Agency FB", 1, 18)); // NOI18N
        comboBoxTipo.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "", "1", "3" }));

        label4.setFont(new java.awt.Font("Tahoma", 0, 13)); // NOI18N
        label4.setText("Tipo");

        labelId1.setFont(new java.awt.Font("Tahoma", 0, 13)); // NOI18N
        labelId1.setText("Min");

        textFieldIdPrecioMin.setFont(new java.awt.Font("Tahoma", 0, 13)); // NOI18N
        textFieldIdPrecioMin.setToolTipText("");
        ((AbstractDocument)textFieldIdPrecioMin.getDocument()).setDocumentFilter(new LimitadorTextField(15));

        textFieldIdPrecioMax.setFont(new java.awt.Font("Tahoma", 0, 13)); // NOI18N
        textFieldIdPrecioMax.setToolTipText("");
        ((AbstractDocument)textFieldIdPrecioMax.getDocument()).setDocumentFilter(new LimitadorTextField(15));

        labelId2.setFont(new java.awt.Font("Tahoma", 0, 13)); // NOI18N
        labelId2.setText("Precio ($)");

        labelId3.setFont(new java.awt.Font("Tahoma", 0, 13)); // NOI18N
        labelId3.setText("Max");

        comboBoxEstado.setFont(new java.awt.Font("Agency FB", 1, 18)); // NOI18N
        comboBoxEstado.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "", "1", "3" }));

        label5.setFont(new java.awt.Font("Tahoma", 0, 13)); // NOI18N
        label5.setText("Estado");

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                        .addComponent(label4)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(comboBoxTipo, javax.swing.GroupLayout.PREFERRED_SIZE, 136, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(label2)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(comboBoxCiudad, javax.swing.GroupLayout.PREFERRED_SIZE, 136, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(label3)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(comboBoxBarrio, javax.swing.GroupLayout.PREFERRED_SIZE, 136, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(labelId)
                        .addGap(18, 18, Short.MAX_VALUE)
                        .addComponent(textFieldDormitorios, javax.swing.GroupLayout.PREFERRED_SIZE, 32, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap())
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(label5)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(comboBoxEstado, javax.swing.GroupLayout.PREFERRED_SIZE, 136, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(labelId1)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(textFieldIdPrecioMin, javax.swing.GroupLayout.PREFERRED_SIZE, 65, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(labelId3)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(textFieldIdPrecioMax, javax.swing.GroupLayout.PREFERRED_SIZE, 65, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addComponent(label1)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(comboBoxProvincia, javax.swing.GroupLayout.PREFERRED_SIZE, 136, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(labelId2))
                        .addGap(0, 0, Short.MAX_VALUE))))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jButtonBuscar, javax.swing.GroupLayout.PREFERRED_SIZE, 88, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(label1)
                    .addComponent(comboBoxProvincia, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(label2)
                    .addComponent(comboBoxCiudad, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(comboBoxBarrio, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(label3))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(comboBoxTipo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(label4))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(labelId, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(textFieldDormitorios, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(labelId2, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(2, 2, 2)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(textFieldIdPrecioMax, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(textFieldIdPrecioMin, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelId3, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelId1, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(comboBoxEstado, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(label5))
                .addGap(18, 18, 18)
                .addComponent(jButtonBuscar)
                .addContainerGap(37, Short.MAX_VALUE))
        );

        textFieldDormitorios.addKeyListener(new KeyAdapter() {

            public void keyTyped(KeyEvent e) {
                char keyChar = e.getKeyChar();
                if (!Character.isDigit(keyChar)) {
                    getToolkit().beep();
                    e.consume();
                }
            }
        });
        textFieldIdPrecioMin.addKeyListener(new KeyAdapter() {

            public void keyTyped(KeyEvent e) {
                char tecla = e.getKeyChar();

                if (!Character.isDigit(tecla)) {
                    if ('.'==tecla){ // VER PUNTO
                        if (banderaMin){
                            getToolkit().beep();
                            e.consume();
                        }
                        else banderaMin=true;
                    }
                    else{
                        getToolkit().beep();
                        e.consume();
                    }
                }
                // Buscar en la cadena al eliminar
            }
        });
        textFieldIdPrecioMax.addKeyListener(new KeyAdapter() {

            public void keyTyped(KeyEvent e) {
                char keyChar = e.getKeyChar();
                if (!Character.isDigit(keyChar)) {
                    getToolkit().beep();
                    e.consume();
                }
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(30, 30, 30)
                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(20, 20, 20)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(1, 1, 1)
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 504, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jButtonAtras, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(167, 167, 167)
                        .addComponent(jButtonEliminar, javax.swing.GroupLayout.PREFERRED_SIZE, 116, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jButtonModificar, javax.swing.GroupLayout.PREFERRED_SIZE, 114, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(26, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addContainerGap(77, Short.MAX_VALUE)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 400, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(15, 15, 15)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jButtonAtras)
                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(jButtonModificar)
                                .addComponent(jButtonEliminar))))
                    .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(72, 72, 72))
        );
    }// </editor-fold>//GEN-END:initComponents

    private void jButtonModificarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonModificarActionPerformed

        int row = jTable1.getSelectedRow();

        if(row == -1){
            JOptionPane.showMessageDialog(null,"Debe seleccionar un inmueble",
                "Error", JOptionPane.INFORMATION_MESSAGE);
        }

        else{

            String nombre=jTable1.getValueAt(row, 0).toString();
            String deporte=jTable1.getValueAt(row, 1).toString();
            String modalidad=jTable1.getValueAt(row, 2).toString();
            String estado=jTable1.getValueAt(row, 3).toString();
            
            /*
            int idComp=GestorCD.obtenerIDCD(nombre);

            CompetenciaAux elem=listaprueba.get(row);

            CompetenciaAux compAux= new CompetenciaAux(estado, deporte, modalidad,
                nombre, elem.getFormaPuntuacion(), idComp);
            GestorVentanas.get().verCompetencia(compAux);*/
        }

    }//GEN-LAST:event_jButtonModificarActionPerformed

    private void jButtonAtrasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonAtrasActionPerformed
        GestorVentanas.get().remove(this);
        GestorVentanas.get().menuVolver();
    }//GEN-LAST:event_jButtonAtrasActionPerformed
    
    private void jButtonBuscarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonBuscarActionPerformed
        
        // Se extraen los filtros
        String provincia, ciudad, barrio, tipo, dormitorios, precioMin, precioMax, estado;
        provincia=comboBoxProvincia.getSelectedItem().toString();
        ciudad=comboBoxCiudad.getSelectedItem().toString();
        barrio=comboBoxBarrio.getSelectedItem().toString();
        tipo=comboBoxTipo.getSelectedItem().toString();
        estado=String.valueOf(comboBoxEstado.getSelectedItem()); // Alternativa
        dormitorios=textFieldDormitorios.getText();
        precioMin=textFieldIdPrecioMin.getText();
        precioMax=textFieldIdPrecioMax.getText();
        
        // Llamar a la función de busqueda, que devuelve la lista (matriz) de elementos
        // Elementos vacios pasar como "" o como null?
        
        
        // Eliminación de la tabla actual
        DefaultTableModel modelo=(DefaultTableModel) jTable1.getModel();
        int filas=jTable1.getRowCount();
        for (int i=0;filas>i; i++) {
            modelo.removeRow(0);
        }
        
        // Rellenar la tabla
        // Se le asignan las competencias recuperadas
        /*for(int i=0; i<lista.size(); i++){
            
            String fila[]=new String[7];
            
            fila[0]= ;
            fila[1]= ;
            fila[2]= ;
            fila[3]= ;
            fila[4]= ;
            fila[5]= ;
            fila[6]= ;
            
            modelo.addRow(fila);
        }
        jTable1.setModel(modelo);
        
        if(jTable1.getRowCount()==0){
            JOptionPane.showMessageDialog(null,"No se han encontrado resultados.",
                    "Error", JOptionPane.INFORMATION_MESSAGE);
        }*/
        
    }//GEN-LAST:event_jButtonBuscarActionPerformed
    
    private void getProvincias() {
        Session sess;
        sess=ConexionUtil.getSessionFactory().openSession();
        Criteria crit = sess.createCriteria(Provincia.class);
        crit.setMaxResults(50);
        provincias = crit.list();
        //provincias.get(0); Ejemplo de obtención
    }
    private void inicializarCombos(){
        vaciarCombos();
        comboBoxProvincia.addItem("");
        provincias.stream().forEach((prov) -> {
            comboBoxProvincia.addItem(""+prov.getNombre());
        });
        comboBoxProvincia.addItemListener(new ItemListener(){
            @Override
            public void itemStateChanged(ItemEvent e) {
                switch (comboBoxProvincia.getSelectedIndex()){
                    case -1:
                        vaciarCiudades();
                        break;
                    case 0:
                        vaciarCiudades();
                        break;
                    default:
                        llenarCiudades(comboBoxProvincia.getSelectedIndex());
                        break;
                }
            }
        });
        //comboBoxCiudad.addItemListener(listenerCiudad);
                
    }
    private void vaciarCombos(){
        comboBoxProvincia.removeAllItems();
        vaciarCiudades();
    }
    private void vaciarCiudades(){
        comboBoxCiudad.removeAllItems();
        vaciarBarrios();
    }
    private void vaciarBarrios(){
        comboBoxBarrio.removeAllItems();
    }
    private void llenarCiudades(int indice){
        vaciarCiudades();
        comboBoxCiudad.addItem("");
        List<Localidad> localidades= new ArrayList<>();
        // Se obtienen las localidades de esa provincia
        localidades.addAll(provincias.get(indice-1).getLocalidads());
        localidades.stream().forEach((loc) -> {
            comboBoxCiudad.addItem(""+loc.getNombre());
        });
    }
    

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JComboBox comboBoxBarrio;
    private javax.swing.JComboBox comboBoxCiudad;
    private javax.swing.JComboBox comboBoxEstado;
    private javax.swing.JComboBox comboBoxProvincia;
    private javax.swing.JComboBox comboBoxTipo;
    private javax.swing.JButton jButtonAtras;
    private javax.swing.JButton jButtonBuscar;
    private javax.swing.JButton jButtonEliminar;
    private javax.swing.JButton jButtonModificar;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTable jTable1;
    private javax.swing.JLabel label1;
    private javax.swing.JLabel label2;
    private javax.swing.JLabel label3;
    private javax.swing.JLabel label4;
    private javax.swing.JLabel label5;
    private javax.swing.JLabel labelId;
    private javax.swing.JLabel labelId1;
    private javax.swing.JLabel labelId2;
    private javax.swing.JLabel labelId3;
    private javax.swing.JTextField textFieldDormitorios;
    private javax.swing.JTextField textFieldIdPrecioMax;
    private javax.swing.JTextField textFieldIdPrecioMin;
    // End of variables declaration//GEN-END:variables
}
